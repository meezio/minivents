function Events(n){var t={},r=[];n=n||this,n.on=function(r,e,o,f){return f=!!f,(t[r]=t[r]||[]).push([e,o,f]),n},n.one=function(t,r,e){return n.on(t,r,e,!0)},n.off=function(e,o){e||(t={});for(var f=t[e]||r,u=f.length=o?f.length:0;u--;)o==f[u][0]&&f.splice(u,1);return n},n.trigger=function(e){for(var o,f=t[e]||r,u=f.length>0?f.slice(0,f.length):f,i=0;o=u[i++];)o[0].apply(o[1],r.slice.call(arguments,1)),o[2]&&n.off(e,o[0]);return n}}